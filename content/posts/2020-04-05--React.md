React가 뭘까?

리액트는 내가 작성하는 모든 코드를 실시간으로 생성한다.
자바스크립트와 함께 만들고 그것들을 html로 밀어넣는 것.
그래서 react에서 html 파일은 비어있고, 이곳에 element들을 스스로 집어넣는다.

자바스크립트 파일에서 document.getElementById (‘root’)라고 입력이 되어있을때,
이 root라는 아이디값을 가진 태그를 html파일에서 찾아서 명령을 수행한다.
만약 이 태그가 없다면 에러가 난다.

그리고 리액트가 돌아가고 있는 사이트의 소스코드를 봐도 추가해준 html 태그가 보이지 않는다.
왜냐면 사실 html파일은 비어있는거기 때문. 그래서 리액트가 빠른것

리액트는 소스코드에 처음부터 html을 넣지않고, html에서 html을 추가하거나 제거하는법만 알고 있다. (레시피를 알고 있는것)
그래서 처음에 빈 html파일을 로드하고, 그 다음에 react가 component에 작성해놨던 것들을 html에 밀어넣게 된다.

virtual DOM이라는 개념이 있다.
(Virtual Document Object Model) 리액트가 작동하는 원리가 바로 여기에 있다.

React Components
리액트는 기본적으로 component와 함께 동작한다. 모든것은 component임.
컴포넌트를 만들고, 컴포넌트가 예뻐보이게 만들거고, 컴포넌트가 데이터를 보여주게 할 것이다.
이제 컴포넌트는 너가 새롭게 제일 좋아하는 단어가 될 겨.

components?
컴포넌트는 기본적으로 html을 반환(returns)하는 함수다.
component is a function that returns HTML.

컴포넌트를 만들고 실행하고 싶을때는 처음 보는 모양새를 갖는다.
<App /> 리액트 고유의 문법이라서 꼭 이렇게 지켜줘야지 html이 정해진 함수 내용으로 반환된다.
javascript와 html 사이의 이러한 조합을 jsx라고 부른다.
(javascript안에 html 구조가 있는 것!)
이건 리액트에서 나온 매우 커스텀한 유일한 개념이고 나머지는 javascript에서 배우는 문법을 그대로 가져간다. (variables, array, classes, map...)

How do we make components?

1.js파일 하나를 생성한다.
그리고 반드시 react를 임포트 해줘야한다.

import React from "react";

그렇지 않으면 리액트는 이 파일에서 jsx가 있는 컴포넌트를 사용한다는걸 인식하지 못한다.

그 후 함수를 만들고 (반드시 대문자) 원하는 html 태그를 입력하면 된다.

function Potato() {
return <h1> I love potato. </h1> ;
}

이렇게만 하고 마치면 vscode에서 해당값이 선언되었지만 아직 읽히지 않았다고 알려준다.
아직 export를 하지 않았기 때문!

export default Potato;

자 이제 함수를 사용하면 되는데, 어떻게 사용할 수 있을까?
일단 첫째로 알아둬야할 건 리액트는 하나의 앱에서 단 하나의 컴포넌트만 렌더링 할 수 있다는 것.
그래서 이미 렌더링한 컴포넌트가 있다면, 그 컴포넌트 안에 내가 새로만든 Potato 컴포넌트를 임포트에서 사용해야한다.

app.js 파일안에 Potato를 임포트 했다.

import Potato from "./Potato";

참고로 여기서 . /은 같은 디렉토리라는 뜻이다. Potato.js와 App.js가 같은 디렉토리 안에 있기 때문에 저렇게 적어주는것임.

그리고 내가 원하는 위치에서 Potato 컴포넌트를 사용해주면 끝.

function App() {
return (

<div>
<h1> Hello </h1>
<Potato />
</div>
);
}

두번째로 jsx에 대해 알아야하는건, 컴포넌트에서 정보를 보낼 수 있다는 것이다.
리액트가 멋진 이유는 재사용 가능한 컴포넌트를 만들 수 있다는 점이다.
이말인즉슨, 컴포넌트를 계속 반복해서 재사용할 수 있다는 것인데,
이제 컴포넌트에서 컴포넌트로, 칠드런 컴포넌트로 정보를 배우는 법에 대해 알아볼 거다.

function Food() {
return <h1> I like potato </h1> ;
}

function App() {
return (

 <div> 
  <h1> Hello </h1> 
  <Food /> 
 </div> 
 );
}

이 app에서 food 컴포넌트로 정보를 보내고, 그다음에 food 컴포넌트에서 정보를 어떻게 사용하는지 알아보겠다.

<Food name="kimch" />

컴포넌트에 정보를 보낼때는 html에 속성값을 주는것과 굉장히 비슷한 모양을 하고 있다.
이 방식을 구체적으로 말하면 ‘food component에 kimchi라는 value로 prop name을 줬다’.고 할 수 있다.

이 값에는 문자열뿐만 아니라 모든 데이터타입을 값으로 넣을 수 있다.

<Food
favorite="kimch"
something={true}
papapa={(["hello"], 1, 2, 3, true)}
/>

이렇게 한 상태에서 누군가가 Food컴포넌트로 정보를 보내려고 하면, 리액트는 이 모든 속성을 가져올거다. 그리고 food 컴포넌트의 인자(argument)로 그것들을 넣을거다.

실제로 인자로 받는 값을 콘솔에 찍어보면 컴포넌트에서 받고 있는 모든 데이터들이 나오고 object에 담겨있다.

function Food(props) {
console.log(props);
}

객체 형식으로 나오기 때문에 이걸 인자로 좀 더 쉽게 받을 수 있다.
그리고 객체에서 키값에 접근하는 방식을 사용하면 값만 출력할 수도 있다.

function Food(props) {
console.log(props.favorite);
}

혹은 해당 데이터들이 객체이기 때문에 객체안에 담긴 키를 인자로 전달하고, 그 인자를 받게끔 함수를 만들면 내가 원하는 데이터를 반환하는 컴포넌트를 만들수 있다.

function Food({ favorite }) {
return <h1> I like {favorite} </h1> ;
}

function App() {
return (

<div> 
<h1> Hello </h1> 
<Food favorite="kimch" /> 
<Food favorite="sori" /> 
</div> 
);
}
